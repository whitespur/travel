<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>喀什三日游行程规划</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: "Microsoft YaHei", sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
        }
        header {
            background-color: #1e63b5;
            color: white;
            text-align: center;
            padding: 2rem 0;
            margin-bottom: 2rem;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        .content-wrapper {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
        }
        .left-content {
            flex: 1;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        .right-content {
            width: 300px;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }
        h2 {
            font-size: 1.8rem;
            border-bottom: 2px solid #1e63b5;
            padding-bottom: 0.5rem;
            margin: 2rem 0 1rem;
            color: #1e63b5;
        }
        h3 {
            font-size: 1.3rem;
            margin: 1.5rem 0 0.5rem;
            color: #1e63b5;
        }
        .intro {
            background-color: white;
            padding: 1.5rem;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
        }
        .note {
            background-color: #fff4e5;
            padding: 1rem;
            border-left: 4px solid #ffa726;
            margin: 1rem 0;
            border-radius: 0 5px 5px 0;
        }
        .timeline {
            position: relative;
            padding: 2rem 0;
        }
        .day {
            margin-bottom: 2rem;
            position: relative;
            background-color: white;
            padding: 1.5rem;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        .day-header {
            background-color: var(--day-color);
            color: white;
            padding: 10px 15px;
            border-radius: 5px;
            margin-bottom: 15px;
        }
        .day-overview {
            background-color: rgba(var(--day-rgb), 0.1);
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
            border: 1px solid rgba(var(--day-rgb), 0.2);
        }
        .overview-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-top: 10px;
        }
        .overview-item {
            text-align: center;
            padding: 10px;
            background-color: rgba(var(--day-rgb), 0.15);
            border-radius: 5px;
        }
        .overview-item .value {
            font-size: 1.2em;
            font-weight: bold;
            color: rgba(var(--day-rgb), 1);
            margin-bottom: 5px;
        }
        .overview-item .label {
            font-size: 0.9em;
            color: #666;
        }
        .day-1 {
            --day-color: #ff4444;
            --day-rgb: 255, 68, 68;
        }
        .day-2 {
            --day-color: #44aa44;
            --day-rgb: 68, 170, 68;
        }
        .day-3 {
            --day-color: #4444ff;
            --day-rgb: 68, 68, 255;
        }
        .attraction {
            margin-bottom: 1.5rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px dashed #ddd;
        }
        .time {
            font-weight: bold;
            color: #1e63b5;
            margin-right: 10px;
        }
        .distance {
            color: #666;
            font-style: italic;
        }
        .map-container {
            margin: 2rem 0;
            height: 500px;
            background-color: white;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        #map {
            width: 100%;
            height: 100%;
        }
        .map-legend {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            justify-content: center;
            padding: 10px;
            background-color: white;
            border-radius: 5px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        .legend-item {
            display: flex;
            align-items: center;
            margin-right: 20px;
            margin-bottom: 5px;
        }
        .color-block {
            width: 20px;
            height: 20px;
            border-radius: 3px;
            margin-right: 5px;
        }
        .spot-number {
            display: inline-block;
            width: 24px;
            height: 24px;
            line-height: 24px;
            text-align: center;
            background-color: var(--day-color);
            color: white;
            border-radius: 50%;
            margin-right: 8px;
            font-weight: bold;
        }
        #qrcode {
            width: 200px;
            height: 200px;
            margin: 20px auto;
            padding: 10px;
            background: white;
            border: 1px solid #eee;
        }
        .qr-label {
            margin-top: 10px;
            font-size: 0.9em;
            color: #666;
        }
        .amap-link {
            display: inline-block;
            background-color: #1e63b5;
            color: white;
            padding: 12px 25px;
            border-radius: 5px;
            text-decoration: none;
            font-weight: bold;
            margin: 20px 0;
            transition: background-color 0.3s;
        }
        .amap-link:hover {
            background-color: #154a8c;
        }
        @media (max-width: 768px) {
            .content-wrapper {
                flex-direction: column;
            }
            .right-content {
                width: 100%;
            }
        }
        .drive-time {
            color: #666;
            background-color: #f0f0f0;
            padding: 3px 8px;
            border-radius: 4px;
            display: inline-block;
            margin-top: 5px;
            font-size: 0.9em;
        }
        .marker-label {
            background-color: rgba(255, 255, 255, 0.9);
            padding: 2px 5px;
            border-radius: 3px;
            font-size: 12px;
            border: 1px solid rgba(0, 0, 0, 0.2);
            white-space: nowrap;
        }
    </style>
    <!-- 引入高德地图和二维码库 -->
    <script src="https://webapi.amap.com/maps?v=2.0&key=e5a73a6a1187af93c9f8a14a2035c205"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
</head>
<body>
    <header>
        <div class="container">
            <h1>喀什三日自驾游攻略</h1>
            <p>探索新疆的神秘与美丽 · 5月21日至5月23日</p>
        </div>
    </header>

    <div class="container">
        <section class="intro">
            <h2>行程概览</h2>
            <p>这是一次为期三天的喀什自驾游行程，带您领略帕米尔高原的壮美风景、喀什的历史风貌和浓郁的民族文化。前两晚将在塔什库尔干塔吉克自治县住宿，体验不一样的高原风情。</p>
            <div class="note">
                <p><strong>注意：</strong>喀什地区与北京有3小时时差，当地时间比北京时间晚3小时。以下行程时间均为当地时间。</p>
            </div>
        </section>

        <div class="content-wrapper">
            <div class="left-content">
                <section class="map-container">
                    <div class="map-legend">
                        <div class="legend-item">
                            <div class="color-block" style="background-color: #ff4444;"></div>
                            <span>第一天（5月21日）</span>
                        </div>
                        <div class="legend-item">
                            <div class="color-block" style="background-color: #44aa44;"></div>
                            <span>第二天（5月22日）</span>
                        </div>
                        <div class="legend-item">
                            <div class="color-block" style="background-color: #4444ff;"></div>
                            <span>第三天（5月23日）</span>
                        </div>
                    </div>
                    <div id="map"></div>
                </section>

                <section class="timeline">
                    <h2>详细行程</h2>
                    
                    <div class="day day-1">
                        <div class="day-header">第一天（5月21日）- 喀什到塔什库尔干</div>
                        <div class="day-overview">
                            <strong>今日行程概览</strong>
                            <div class="overview-grid">
                                <div class="overview-item">
                                    <div class="value">290公里</div>
                                    <div class="label">总行驶距离</div>
                                </div>
                                <div class="overview-item">
                                    <div class="value">6小时</div>
                                    <div class="label">预计行驶时间</div>
                                </div>
                            </div>
                        </div>
                        <div class="attraction">
                            <h4><span class="spot-number">1</span><span class="time">09:00</span> 喀什市区出发</h4>
                            <p>从喀什市区酒店出发，沿喀什-塔什库尔干公路前进。</p>
                        </div>
                        <div class="attraction">
                            <h4><span class="spot-number">2</span><span class="time">11:00</span> 白沙湖</h4>
                            <p>白沙湖是新疆著名的高山湖泊，湖水清澈，周围是壮观的沙丘和远处的雪山。</p>
                            <p><span class="distance">游览时间：约1.5小时</span></p>
                            <p><span class="drive-time">从喀什市区开车约1.5小时（90公里）</span></p>
                        </div>
                        <div class="attraction">
                            <h4><span class="spot-number">3</span><span class="time">13:00</span> 木吉乡火山群</h4>
                            <p>参观神奇的火山地貌，感受大自然的鬼斧神工。</p>
                            <p><span class="distance">游览时间：约1小时</span></p>
                            <p><span class="drive-time">从白沙湖开车约30分钟（25公里）</span></p>
                        </div>
                        <div class="attraction">
                            <h4><span class="spot-number">4</span><span class="time">15:30</span> 树洞公路</h4>
                            <p>途经著名的树洞公路，两侧是百年胡杨，景色壮观独特。</p>
                            <p><span class="distance">游览时间：约1.5小时</span></p>
                            <p><span class="drive-time">从木吉乡开车约1小时（45公里）</span></p>
                        </div>
                        <div class="attraction">
                            <h4><span class="spot-number">5</span><span class="time">18:00</span> 塔什库尔干县</h4>
                            <p>抵达塔什库尔干塔吉克自治县，办理入住。</p>
                            <p><span class="drive-time">从树洞公路开车约2小时（130公里）</span></p>
                        </div>
                    </div>

                    <div class="day day-2">
                        <div class="day-header">第二天（5月22日）- 塔什库尔干周边游</div>
                        <div class="day-overview">
                            <strong>今日行程概览</strong>
                            <div class="overview-grid">
                                <div class="overview-item">
                                    <div class="value">320公里</div>
                                    <div class="label">总行驶距离</div>
                                </div>
                                <div class="overview-item">
                                    <div class="value">6小时</div>
                                    <div class="label">预计行驶时间</div>
                                </div>
                            </div>
                        </div>
                        <div class="attraction">
                            <h4><span class="spot-number">1</span><span class="time">07:30</span> 班迪尔蓝湖</h4>
                            <p>清晨观赏被誉为"帕米尔高原上的蓝宝石"的班迪尔蓝湖，湖水在晨光中呈现梦幻般的蓝色。</p>
                            <p><span class="distance">游览时间：约1.5小时</span></p>
                            <p><span class="drive-time">从塔什库尔干开车约30分钟（17公里）</span></p>
                        </div>
                        <div class="attraction">
                            <h4><span class="spot-number">2</span><span class="time">09:30</span> 瓦罕走廊</h4>
                            <p>探访历史悠久的丝绸之路重要通道。</p>
                            <p><span class="distance">游览时间：约1.5小时</span></p>
                            <p><span class="drive-time">从班迪尔蓝湖开车约1.5小时（83公里）</span></p>
                        </div>
                        <div class="attraction">
                            <h4><span class="spot-number">3</span><span class="time">12:00</span> 盘龙古道</h4>
                            <p>体验千年古道的壮美，这条蜿蜒盘旋的山路见证了古代商旅往来的历史。</p>
                            <p><span class="distance">游览时间：约1.5小时</span></p>
                            <p><span class="drive-time">从瓦罕走廊开车约30分钟（20公里）</span></p>
                        </div>
                        <div class="attraction">
                            <h4><span class="spot-number">4</span><span class="time">14:00</span> 红其拉甫国门</h4>
                            <p>参观中巴边界的红其拉甫国门，感受祖国最西部的雄伟壮观。</p>
                            <p><span class="distance">游览时间：约2小时</span></p>
                            <p><span class="drive-time">从盘龙古道开车约30分钟（25公里）</span></p>
                        </div>
                        <div class="attraction">
                            <h4><span class="spot-number">5</span><span class="time">17:00</span> 塔合曼湿地</h4>
                            <p>欣赏高原湿地生态系统，观赏各种鸟类。</p>
                            <p><span class="distance">游览时间：约1.5小时</span></p>
                            <p><span class="drive-time">从红其拉甫开车约1小时（95公里）</span></p>
                        </div>
                        <div class="attraction">
                            <h4><span class="spot-number">6</span><span class="time">19:30</span> 返回塔什库尔干</h4>
                            <p>返回塔什库尔干县住宿。</p>
                            <p><span class="drive-time">从塔合曼湿地开车约1小时（80公里）</span></p>
                        </div>
                    </div>

                    <div class="day day-3">
                        <div class="day-header">第三天（5月23日）- 塔什库尔干返回喀什</div>
                        <div class="day-overview">
                            <strong>今日行程概览</strong>
                            <div class="overview-grid">
                                <div class="overview-item">
                                    <div class="value">240公里</div>
                                    <div class="label">总行驶距离</div>
                                </div>
                                <div class="overview-item">
                                    <div class="value">4.5小时</div>
                                    <div class="label">预计行驶时间</div>
                                </div>
                            </div>
                        </div>
                        <div class="attraction">
                            <h4><span class="spot-number">1</span><span class="time">08:30</span> 石头城</h4>
                            <p>参观具有两千多年历史的石头城遗址。</p>
                            <p><span class="distance">游览时间：约1小时</span></p>
                            <p><span class="drive-time">从塔什库尔干县城约10分钟（3公里）</span></p>
                        </div>
                        <div class="attraction">
                            <h4><span class="spot-number">2</span><span class="time">10:00</span> 卡拉库里湖</h4>
                            <p>欣赏被誉为"天堂湖"的卡拉库里湖美景，在此享用午餐。</p>
                            <p><span class="distance">游览时间：约2小时</span></p>
                            <p><span class="drive-time">从石头城开车约1小时（70公里）</span></p>
                        </div>
                        <div class="attraction">
                            <h4><span class="spot-number">3</span><span class="time">13:00</span> 慕士塔格冰河公园</h4>
                            <p>近距离观赏雄伟的慕士塔格峰和壮观的冰川景观，徒步登高500米感受冰川的磅礴气势。</p>
                            <p><span class="distance">游览时间：约3.5小时（含徒步和休息时间）</span></p>
                            <p><span class="drive-time">从卡拉库里湖开车约30分钟（20公里）</span></p>
                        </div>
                        <div class="attraction">
                            <h4><span class="spot-number">4</span><span class="time">17:30</span> 返回喀什</h4>
                            <p>返回喀什市区。</p>
                            <p><span class="drive-time">从慕士塔格冰河公园开车约3小时（147公里）</span></p>
                        </div>
                    </div>
                </section>
            </div>

            <div class="right-content">
                <h3>手机查看行程</h3>
                <div id="qrcode"></div>
                <p class="qr-label">扫描二维码在手机上查看行程</p>
                <a href="amapuri://workInAmap/createWithToken?polymericId=mcp_d904006b52f943db8c0ef125f0e8c20d&from=MCP" class="amap-link">在高德地图中打开</a>
            </div>
        </div>
    </div>

    <script>
        // 定义三天行程的各个景点坐标
        const pointsList = [
            // 第一天景点
            {
                title: "第一天行程",
                color: "#ff4444",
                points: [
                    { name: "1. 喀什市区", lng: 75.989746, lat: 39.470492 },
                    { name: "2. 白沙湖", lng: 75.700000, lat: 39.200000 },
                    { name: "3. 木吉乡火山群", lng: 75.400000, lat: 39.100000 },
                    { name: "4. 树洞公路", lng: 75.250000, lat: 38.900000 },
                    { name: "5. 塔什库尔干县", lng: 75.232988, lat: 37.777029 }
                ]
            },
            // 第二天景点
            {
                title: "第二天行程",
                color: "#44aa44",
                points: [
                    { name: "1. 塔什库尔干县", lng: 75.232988, lat: 37.777029 },
                    { name: "2. 班迪尔蓝湖", lng: 75.150000, lat: 37.850000 },
                    { name: "3. 瓦罕走廊", lng: 74.900000, lat: 37.100000 },
                    { name: "4. 盘龙古道", lng: 74.890000, lat: 37.050000 },
                    { name: "5. 红其拉甫国门", lng: 74.877478, lat: 37.007348 },
                    { name: "6. 塔合曼湿地", lng: 75.500000, lat: 38.200000 },
                    { name: "7. 塔什库尔干县", lng: 75.232988, lat: 37.777029 }
                ]
            },
            // 第三天景点
            {
                title: "第三天行程",
                color: "#4444ff",
                points: [
                    { name: "1. 塔什库尔干县", lng: 75.232988, lat: 37.777029 },
                    { name: "2. 石头城", lng: 75.219803, lat: 37.779493 },
                    { name: "3. 卡拉库里湖", lng: 75.050000, lat: 38.450000 },
                    { name: "4. 慕士塔格冰河公园", lng: 75.100000, lat: 38.300000 },
                    { name: "5. 喀什市区", lng: 75.989746, lat: 39.470492 }
                ]
            }
        ];

        // 初始化地图
        window.onload = function() {
            // 创建地图实例
            const map = new AMap.Map('map', {
                zoom: 7,
                center: [75.5, 38.5],
                viewMode: '3D'
            });
            
            // 添加地图控件
            map.plugin(['AMap.ToolBar', 'AMap.Scale'], function() {
                const toolBar = new AMap.ToolBar({
                    position: {
                        top: '50%',
                        right: '20px',
                        transform: 'translateY(-50%)'
                    }
                });
                const scale = new AMap.Scale({
                    position: {
                        bottom: '20px',
                        left: '20px'
                    }
                });
                map.addControl(toolBar);
                map.addControl(scale);
            });
            
            // 创建一个点集合，用于存储所有点标记
            const markers = [];
            
            // 遍历每天的行程，添加标记和路线
            pointsList.forEach(day => {
                // 为每个点添加标记
                day.points.forEach(point => {
                    const markerContent = document.createElement('div');
                    markerContent.className = 'marker-container';
                    
                    // 创建数字标记
                    const numberDiv = document.createElement('div');
                    numberDiv.style.cssText = `
                        background-color: ${day.color};
                        color: white;
                        width: 24px;
                        height: 24px;
                        border-radius: 50%;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        font-weight: bold;
                        border: 2px solid white;
                        margin-bottom: 2px;
                    `;
                    numberDiv.textContent = point.name.split('.')[0];
                    
                    // 创建地点名称标签
                    const labelDiv = document.createElement('div');
                    labelDiv.className = 'marker-label';
                    labelDiv.textContent = point.name.split('. ')[1];
                    
                    markerContent.appendChild(numberDiv);
                    markerContent.appendChild(labelDiv);
                    
                    const marker = new AMap.Marker({
                        position: [point.lng, point.lat],
                        content: markerContent,
                        title: point.name,
                        map: map
                    });
                    
                    // 添加信息窗体
                    const infoWindow = new AMap.InfoWindow({
                        content: `<div style="padding:10px;"><h3>${point.name}</h3><p>${day.title}</p></div>`,
                        offset: new AMap.Pixel(0, -30)
                    });
                    
                    marker.on('click', () => {
                        infoWindow.open(map, marker.getPosition());
                    });
                    
                    markers.push(marker);
                });
                
                // 添加路线
                const path = day.points.map(point => [point.lng, point.lat]);
                const polyline = new AMap.Polyline({
                    path: path,
                    strokeColor: day.color,
                    strokeWeight: 6,
                    strokeOpacity: 0.8,
                    zIndex: 50
                });
                
                polyline.setMap(map);
            });
            
            // 自动调整地图视野
            map.setFitView(markers);

            // 生成二维码
            new QRCode(document.getElementById('qrcode'), {
                text: "amapuri://workInAmap/createWithToken?polymericId=mcp_d904006b52f943db8c0ef125f0e8c20d&from=MCP",
                width: 200,
                height: 200,
                colorDark: "#000000",
                colorLight: "#ffffff",
                correctLevel: QRCode.CorrectLevel.H
            });
        }
    </script>
</body>
</html> 